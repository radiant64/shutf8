<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Single Header UTF-8 (shutf8): shutf8.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Single Header UTF-8 (shutf8)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">shutf8.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="shutf8_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structshutf8__utf8__c"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#structshutf8__utf8__c">shutf8_utf8_c</a></td></tr>
<tr class="memdesc:structshutf8__utf8__c"><td class="mdescLeft">&#160;</td><td class="mdescRight">A type representing a Unicode codepoint in the form of a UTF-8 encoded octet sequence.  <a href="shutf8_8h.html#structshutf8__utf8__c">More...</a><br /></td></tr>
<tr class="separator:structshutf8__utf8__c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1df3bc178ba0895e4ecedb4f0d8b531a"><td class="memItemLeft" align="right" valign="top"><a id="a1df3bc178ba0895e4ecedb4f0d8b531a"></a>
typedef SHUTF8_UTF32_C&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a></td></tr>
<tr class="memdesc:a1df3bc178ba0895e4ecedb4f0d8b531a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A platform specific type corresponding to a 32 bit signed Unicode codepoint. <br /></td></tr>
<tr class="separator:a1df3bc178ba0895e4ecedb4f0d8b531a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec6ec1168e6bfa3d23b23db7f91b918"><td class="memItemLeft" align="right" valign="top"><a id="a7ec6ec1168e6bfa3d23b23db7f91b918"></a>
typedef struct <a class="el" href="shutf8_8h.html#structshutf8__utf8__c">shutf8_utf8_c</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#a7ec6ec1168e6bfa3d23b23db7f91b918">shutf8_utf8_c</a></td></tr>
<tr class="memdesc:a7ec6ec1168e6bfa3d23b23db7f91b918"><td class="mdescLeft">&#160;</td><td class="mdescRight">A type representing a Unicode codepoint in the form of a UTF-8 encoded octet sequence. <br /></td></tr>
<tr class="separator:a7ec6ec1168e6bfa3d23b23db7f91b918"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aec75a0d29735b2f0800a000dd2dbfe7d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#aec75a0d29735b2f0800a000dd2dbfe7d">shutf8_step</a> (const char *cursor)</td></tr>
<tr class="memdesc:aec75a0d29735b2f0800a000dd2dbfe7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a pointer to the next codepoint in the supplied UTF-8 encoded string.  <a href="#aec75a0d29735b2f0800a000dd2dbfe7d">More...</a><br /></td></tr>
<tr class="separator:aec75a0d29735b2f0800a000dd2dbfe7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa24299b8473e2190adf9e005e7ae3dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#aaa24299b8473e2190adf9e005e7ae3dd">shutf8_decode_codepoint</a> (const char *cursor)</td></tr>
<tr class="memdesc:aaa24299b8473e2190adf9e005e7ae3dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes the UTF-8 encoded codepoint residing at the supplied address into a UTF-32 value.  <a href="#aaa24299b8473e2190adf9e005e7ae3dd">More...</a><br /></td></tr>
<tr class="separator:aaa24299b8473e2190adf9e005e7ae3dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1f5a04e377f5bc662719fb726abb85"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#a2d1f5a04e377f5bc662719fb726abb85">shutf8_decode_alloc</a> (const char *source)</td></tr>
<tr class="memdesc:a2d1f5a04e377f5bc662719fb726abb85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decodes a UTF-8 encoded string into UTF-32, allocating space for the result.  <a href="#a2d1f5a04e377f5bc662719fb726abb85">More...</a><br /></td></tr>
<tr class="separator:a2d1f5a04e377f5bc662719fb726abb85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ec09e7b665832fba0bf669c3d11fbe8"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#a0ec09e7b665832fba0bf669c3d11fbe8">shutf8_encoded_length</a> (<a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> codepoint)</td></tr>
<tr class="memdesc:a0ec09e7b665832fba0bf669c3d11fbe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines how many octets the UTF-32 codepoint would consist of when recoded to UTF-8.  <a href="#a0ec09e7b665832fba0bf669c3d11fbe8">More...</a><br /></td></tr>
<tr class="separator:a0ec09e7b665832fba0bf669c3d11fbe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8b9bdce1934bd74d0562758c534473f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="shutf8_8h.html#structshutf8__utf8__c">shutf8_utf8_c</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#ae8b9bdce1934bd74d0562758c534473f">shutf8_encode_codepoint</a> (<a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> codepoint)</td></tr>
<tr class="memdesc:ae8b9bdce1934bd74d0562758c534473f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a UTF-32 codepoint into a UTF-8 sequence.  <a href="#ae8b9bdce1934bd74d0562758c534473f">More...</a><br /></td></tr>
<tr class="separator:ae8b9bdce1934bd74d0562758c534473f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51950acb414f589433c826dcefa5180"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="shutf8_8h.html#ad51950acb414f589433c826dcefa5180">shutf8_encode_alloc</a> (const <a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> *source)</td></tr>
<tr class="memdesc:ad51950acb414f589433c826dcefa5180"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a UTF-32 string into UTF-8, allocating space for the result.  <a href="#ad51950acb414f589433c826dcefa5180">More...</a><br /></td></tr>
<tr class="separator:ad51950acb414f589433c826dcefa5180"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Single Header UTF-8</p>
<p>version 3.0.0 </p>
</div><hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structshutf8__utf8__c" id="structshutf8__utf8__c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#structshutf8__utf8__c">&#9670;&nbsp;</a></span>shutf8_utf8_c</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct shutf8_utf8_c</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>A type representing a Unicode codepoint in the form of a UTF-8 encoded octet sequence. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ac405ef8a3517c7e6eb7951b3c8baa034"></a>const unsigned char</td>
<td class="fieldname">
b[4]</td>
<td class="fielddoc">
<p>Array of individual octets. </p>
</td></tr>
<tr><td class="fieldtype">
<a id="a8bb3e1dd5fd30402c69fd8a9f7dd0950"></a>unsigned char</td>
<td class="fieldname">
len</td>
<td class="fielddoc">
<p>Number of bytes in the sequence. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2d1f5a04e377f5bc662719fb726abb85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1f5a04e377f5bc662719fb726abb85">&#9670;&nbsp;</a></span>shutf8_decode_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a>* shutf8_decode_alloc </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes a UTF-8 encoded string into UTF-32, allocating space for the result. </p>
<p>The zero-terminated UTF-8 string residing at the supplied address will be decoded into a zero terminated UTF-32 string, allocating as much heap memory as is necessary to hold the new string.</p>
<p>Caller is responsible for freeing the allocated memory.</p>
<p>This operation is O(2n), since it will need to iterate over the string once to count how many codepoints it contains, and then again to populate the codepoints after the required memory has been allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>Pointer to a UTF-8 encoded string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated string of UTF-32 characters, or NULL on failure (illegal codepoint or failed memory allocation). </dd></dl>

</div>
</div>
<a id="aaa24299b8473e2190adf9e005e7ae3dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa24299b8473e2190adf9e005e7ae3dd">&#9670;&nbsp;</a></span>shutf8_decode_codepoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> shutf8_decode_codepoint </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decodes the UTF-8 encoded codepoint residing at the supplied address into a UTF-32 value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>Pointer into a UTF-8 encoded string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The Unicode codepoint translated into a <a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a" title="A platform specific type corresponding to a 32 bit signed Unicode codepoint. ">shutf8_utf32_c</a> number. </dd></dl>

</div>
</div>
<a id="ad51950acb414f589433c826dcefa5180"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51950acb414f589433c826dcefa5180">&#9670;&nbsp;</a></span>shutf8_encode_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* shutf8_encode_alloc </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> *&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes a UTF-32 string into UTF-8, allocating space for the result. </p>
<p>The supplied zero-terminated UTF-32 string will be encoded into zero-terminated UTF-8, allocating as much heap memory as is necesary to hold the new string.</p>
<p>Caller is responsible for freeing the allocated memory.</p>
<p>This operation is O(2n), since it will first iterate over the codepoints to determine the total number of octets in the resulting string, and then again when encoding the string after allocating the required memory.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>A string of <a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a> codepoints. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A newly allocated string of UTF-8 characters, or NULL on failure (illegal codepoint or failed memory allocation). </dd></dl>

</div>
</div>
<a id="ae8b9bdce1934bd74d0562758c534473f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8b9bdce1934bd74d0562758c534473f">&#9670;&nbsp;</a></span>shutf8_encode_codepoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="shutf8_8h.html#structshutf8__utf8__c">shutf8_utf8_c</a> shutf8_encode_codepoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a>&#160;</td>
          <td class="paramname"><em>codepoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes a UTF-32 codepoint into a UTF-8 sequence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codepoint</td><td>UTF-32 codepoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The corresponding UTF-8 sequence. </dd></dl>

</div>
</div>
<a id="a0ec09e7b665832fba0bf669c3d11fbe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ec09e7b665832fba0bf669c3d11fbe8">&#9670;&nbsp;</a></span>shutf8_encoded_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char shutf8_encoded_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="shutf8_8h.html#a1df3bc178ba0895e4ecedb4f0d8b531a">shutf8_utf32_c</a>&#160;</td>
          <td class="paramname"><em>codepoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determines how many octets the UTF-32 codepoint would consist of when recoded to UTF-8. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">codepoint</td><td>UTF-32 codepoint. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A number n such that 1 &lt;= n &lt;= 4 for a valid codepoint. 0 otherwise. </dd></dl>

</div>
</div>
<a id="aec75a0d29735b2f0800a000dd2dbfe7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec75a0d29735b2f0800a000dd2dbfe7d">&#9670;&nbsp;</a></span>shutf8_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* shutf8_step </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a pointer to the next codepoint in the supplied UTF-8 encoded string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>Pointer into a UTF-8 encoded string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the beginning of the next codepoint in the provided string, alternatively <code>cursor</code> if the codepoint at <code>cursor</code> is 0, or NULL if it is invalid. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
